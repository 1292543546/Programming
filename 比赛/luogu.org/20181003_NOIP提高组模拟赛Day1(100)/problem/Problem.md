# **NOIP提高组模拟赛**

---

## **比赛背景**

2018年10月17日，`《Ingress Prime》`作为一款Ar游戏，居然出番了。

`Ingress`简单来说就是由因为新型能量`XM`的发现，人类时间分裂成两股势力`ENLIGHTENED启蒙军`以及`RESISTANCE反抗军`，玩家在现实世界中行走，通过`GPS`定位并占领`Portal能量塔`的游戏，玩家可以将三个占领了的`Portal`给`Link连接`起来，形成一个`FIELD战场`，用来利用或者抵挡`XM`能量的影响。

`hz2016`作为一个`ENLIGHTENED`自然要利用好`XM`能量，早日收集够`AP经验`升级，来抵挡`RESISTANCE`的入侵啦。

[Ingress官网](https://ingress.com)

---

## Agent1

**Time:$1000MS$ Memory:$256MB$**

### **题目背景**

2018年11月17日，中国香港将会迎来一场`XM大战`，是世界各地的`ENLIGHTENED`与`RESISTANCE`开战的地点，某地 的`ENLIGHTENED总部`也想派`Agent`去参加这次的`XM大战`，与世界其他地方的`ENLIGHTENED`并肩作战。

### **题目描述**

某地的`ENLIGHTENED总部`总部有$N$个`Agent`，每个`Agent`的能力值互不相同，现在`ENLIGHTENED行动指挥`想要派出$A,B$两队`Agent`去参加`XM大战`。但是参加大战的两个队伍要满足两个要求：

1. $A$队中能力最大的`Agent`的能力值要小于$B$队能力最弱的`Agent`的能力值。
2. $A,B$两队都要有人参战。

并不一定所有的`Agent`都要去参加`XM大战`的，心急的`ENLIGHTENED行动指挥`想知道有多少种安排`Agent`参加大战的方案。由于答案可能很大，所以只需要你求出答案模$(10^9+7)$的值就可以了。

### **输入格式**

输入仅一行，为一个整数$N$。

### **输出格式**

输出答案模$(10^9+7)$的值。

### **样例输入**

**Input 1**

> 3

**Input 2**

> 6

### **样例输出**

**OutPut 1**

> 5

**样例解析**

> 当有三个人时，可能的方案为
> \[(1)(2,3)\] \[(1,2)(3)\] \[(1)(2)\] \[(1)(3)\]\[(2)(3)\]

**OutPut 2**

> 129

### **数据范围**

对于$20\%$的数据 $N \leq 10$

对于$40\%$的数据 $N \leq 10^3$

对于$60\%$的数据 $N \leq 10^5$

对于$100\%$的数据 $N \leq 10^9$

---

## Portal1

**Time:$1000MS$ Memory:$256MB$ Special Judge**

### **题目背景**

`Agent`获取资源有很多种方式，`HACK`就是其中的一中，侵入`Portal`可以获得很多有用的资源。`ENLIGHTENED总部`因为参加`XM大战`，只剩下一点点可用资源了，所以`ENLIGHTENED行动指挥`想要进行`HACK`活动，尽量增加库存。

### **题目描述**

地图上有`N`个可以被`HACK`的`Portal`，编号为$1$~$N$。`HACK`第$i$号`Portal`需要时间$T[i]$秒，可以`HACK`出$C[i]$库存的资源。可是只有有能量的`Portal`才可以`HACK`出资源。第$i$号`Portal`在第$D[i]$秒时，能量就会消失殆尽。`ENLIGHTEDED`想知道，最多可以增加多少库存，并且按编号小到大输出需要`HACK`的`Portal`的编号。

### **输入格式**

第一行输入一个整数$N$

下接$N$行每行$3$个整数，$T[i],D[i],C[i]$

### **输出格式**

输出第一行为一个整数，最多可以增加多少库存。

第二行为一个整数，代表需要`HACK`多少个`Portal`。

第三行按编号小到大输出需要`HACK`的`Portal`的编号，若有多种`HACK`的方案输出其中一种即可。

### **样例输入**

**Input**

> 3
> 5 6 5
> 1 8 2
> 2 7 3

### **样例输出**

**OutPut**

> 7
> 2
> 1 2

**样例解析**

> 前$5$秒先`HACK`第$1$个`Portal`，第$6$秒`HACK`第$2$个`Portal`。最多可以获得$7$点库存。

### **数据范围**

对于$20\%​$的数据 $N\leq 5,T[i],C[i] \leq 5,D[i] \leq 10​$

对于$40\%$的数据 $N\leq 20,T[i],C[i] \leq 10,D[i] \leq 100$

对于$60\%$的数据 $N\leq 50,T[i],C[i] \leq 15,D[i] \leq 1000$

对于$100\%$的数据 $N\leq 100,1 \leq T[i],C[i] \leq 20,D[i] \leq 2000$

---

## War1

**Time:$1000MS$ Memory:$256MB$ Special Judge**

### **题目背景**

`XM大战`来临之际，`ENLIGHTENED总部`为了抵御`RESISTANCE`的进攻，调整了某地`Portal`的能量值，使得其可以经受更多的打击。

### **题目描述**

`ENLIGHTENED总部`有$N$个`Portal`，编号为$1$~$N$，编号为$i$的`Portal`初始能量值为$A[i]$，在`Portal`之间有$M$条`LINK`，每条`LINK`着连接着两个不同`Portal`，被连接着的两个`Portal`可以传输相互能量，每个`Portal`最多总共只能向其连接着的`Portal`传输$A[i]$点能量，现在`ENLIGHTENED行动指挥`想让每第$i$个`Portal`的能量值变为$B[i]$，但他不知道着可不可行，所以找到了你，如果可行的话，需要你求出一种可行的能量传输方案。

### **输入格式**

第一行数两个个整数$N,M$。

第二行有$N$个整数，第$i$个整数代表$A[i]$

第三行有$N$个整数，第$i$个整数代表$B[i]$

下接$M$行，每行输入两个整数$X,Y$，代表编号为$X$的`Portal`到编号为$Y$的`Portal`有一条`LINK`。

### **输出格式**

若有可行方案输出`YES`，并且下接$N$行，每行$N$个整数，第$i$行第$j$个数代表代表编号为$i$的`Portal`向编号为$j$的`Portal`传输的能量值。若$i=j$输出第$i$个`Portal`传输后留下的能量值。若有多种可行方案输出其中一种即可。

若无可行方案输出`NO`


### **样例输入**

**Input 1**

>3 2 
>1 2 3
>0 0 6
>1 3
>2 3

**Input 2**

>3 2 
>1 2 3
>0 0 7
>1 3
>2 3

### **样例输出**

**OutPut 1**

> YES
> 0 0 1
> 0 0 2
> 0 0 3 

**样例解析**

> 一号给三号传输了$1$
> 二号给三号传输了$2$
> 三号没有传输留下了$3$
> 所以最后一号二号能量值都为$0$，三号能力值为$6$

**OutPut 2**

> NO

### **数据范围**

对于$20\%$的数据 $N \leq 10$

对于$40\%$的数据 $N\leq 25$

对于$60\%$的数据 $N\leq 50$

对于$100\%$的数据 $N\leq 100,M \leq 2*N$